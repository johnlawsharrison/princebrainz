<main class="container">

<h3>Here's a song by Prince that sounds {{category | capitalize}}</h3>
<button type="button" class="btn btn-primary" ng-click="randomSong()">Suggest another {{category}} song</button>
<div class="row">
	<div class="col-md-4">
		<button type="button" class="btn btn-success" ng-click="audio.play()">Play</button>
		<button type="button" class="btn btn-warning" ng-click='audio.paused ? audio.play() : audio.pause()'>Pause</button>
	</div>
	<div class="col-md-8" id="songDetail" ng-show="songsInCategory">
		<p>
		{{suggestion.metadata.tags.title[0]}} 
		- {{suggestion.metadata.tags.album[0]}} ({{suggestion.metadata.tags.originalyear[0]}})
		{{probability}}
		</p>
		<dl>
			<dt>Key</dt>
			<dd>{{suggestion.tonal.key_key}} {{suggestion.tonal.key_scale}}</dd>
			<dt>BPM</dt>
			<dd>{{suggestion.metadata.tags.bpm[0]}}</dd>
			<dt ng-show="suggestion.metadata.tags.mood.length >= 1">This track also sounds</dt>
			<dd>
				<ul>
					<li ng-repeat="mood in suggestion.metadata.tags.mood | filter: '!' + category">
						<a ui-sref="suggestion({'category': mood})">{{mood}}</a>
					</li>
				</ul>
			</dd>
		</dl>
	</div>
</div>
<!-- <div class="debug">
	<p>{{suggestion}}</p>
</div> -->
<div class="row" id="otherSongs">
	<h3>Other {{category | capitalize}} songs by Prince ({{songsInCategory.length}})</h3>
	<div ng-repeat='song in songsInCategory'>
		<a ng-click="newSong(song)">{{song.metadata.tags.title[0]}}</a>
	</div>
</div>
</main>